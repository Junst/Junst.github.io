<button id="theme-toggle" class="theme-fab" aria-label="Toggle theme" title="Toggle theme">ğŸŒ“</button>
<script>
(function () {
  var KEY = 'theme';
  var root = document.documentElement;

  function setIcon(btn){
    btn.textContent = root.getAttribute('data-theme') === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
    document.documentElement.style.colorScheme = root.getAttribute('data-theme');
  }

  // ë²„íŠ¼ ë³´ì¥
  var btn = document.getElementById('theme-toggle') || (function(){
    var b = document.createElement('button');
    b.id = 'theme-toggle'; b.className = 'theme-fab'; b.textContent = 'ğŸŒ“';
    document.body.appendChild(b); return b;
  })();
  setIcon(btn);

  btn.addEventListener('click', function(){
    var next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem(KEY, next);
    setIcon(btn);

    /* âš ï¸ ì‹¤íŒ¨ì‹œ ëŒ€ë¹„: CSS ë³€ìˆ˜ë„ ê°•ì œë¡œ ë®ì–´ì¨ ì¤Œ (ë‹¤ë¥¸ CSSê°€ ë®ì–´ì¨ë„ ë³´ì´ê²Œ) */
    var vars = next === 'light'
      ? {'--bg':'#fff','--text':'#111','--accent':'#1a73e8','--card':'#fff'}
      : {'--bg':'#000','--text':'#e5e5e5','--accent':'#8ab4ff','--card':'#0f0f0f'};
    for (var k in vars) root.style.setProperty(k, vars[k]);
  });
})();
</script>
