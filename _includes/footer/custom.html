<button id="theme-toggle" class="theme-fab" aria-label="Toggle theme">🌓</button>
<script>
(function () {
  var KEY = 'theme', root = document.documentElement;
  var saved = localStorage.getItem(KEY);
  var initial = saved || 'dark';
  root.setAttribute('data-theme', initial);

  var btn = document.getElementById('theme-toggle');
  function setIcon(){ btn.textContent = root.getAttribute('data-theme') === 'dark' ? '☀️' : '🌙'; }
  setIcon();

  btn.addEventListener('click', function(){
    var next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem(KEY, next);
    setIcon();
  });
})();
</script>
