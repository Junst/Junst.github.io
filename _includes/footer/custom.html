<!-- start custom footer snippets -->
<!-- Theme Toggle FAB -->
<button id="theme-toggle" class="theme-fab" aria-label="Toggle theme">ğŸŒ™</button>

<script>
(function () {
  const LS_KEY = 'theme';
  const root = document.documentElement;

  // ë²„íŠ¼ì´ ì—†ìœ¼ë©´ ë™ì ìœ¼ë¡œ ìƒì„± (ì•ˆì „ì¥ì¹˜)
  let btn = document.getElementById('theme-toggle');
  if (!btn) {
    btn = document.createElement('button');
    btn.id = 'theme-toggle';
    btn.className = 'theme-fab';
    btn.textContent = 'ğŸŒ™';
    document.body.appendChild(btn);
  }

  // ì´ˆê¸° í…Œë§ˆ ê²°ì •: ì €ì¥ê°’ > ì‹œìŠ¤í…œ ì„ í˜¸
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const saved = localStorage.getItem(LS_KEY);
  const initial = saved || (prefersDark ? 'dark' : 'light');
  root.setAttribute('data-theme', initial);
  btn.textContent = (initial === 'dark') ? 'â˜€ï¸' : 'ğŸŒ™';

  // í† ê¸€ ë™ì‘
  btn.addEventListener('click', () => {
    const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem(LS_KEY, next);
    btn.textContent = (next === 'dark') ? 'â˜€ï¸' : 'ğŸŒ™';
  });
})();
</script>
<!-- end custom footer snippets -->
