<button id="theme-toggle" class="theme-fab" aria-label="Toggle theme" type="button">🌙</button>
<script>
(function(){
  var KEY='theme';
  var root=document.documentElement;
  var btn=document.getElementById('theme-toggle');
  if(!btn) return;

  function sync(){
    var mode = root.getAttribute('data-theme') || 'light';
    btn.textContent = (mode==='dark') ? '☀️' : '🌙';
    document.documentElement.style.colorScheme = mode;
  }
  btn.addEventListener('click', function(){
    var next = (root.getAttribute('data-theme')==='dark') ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem(KEY, next);
    sync();
  });
  sync();
})();
</script>
